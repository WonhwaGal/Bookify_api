2024-04-28 19:22:19.452 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:22:19.508 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:22:19.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:22:19.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:22:19.531 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-28 19:22:19.545 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-28 19:22:19.653 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-28 19:22:19.673 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:22:19.673 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:22:19.674 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:22:19.674 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:22:19.674 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:22:19.675 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:22:20.050 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:22:20.052 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:22:20.054 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:22:20.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:22:20.064 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-28 19:22:20.065 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-28 19:22:20.285 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-28 19:22:20.382 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-28 19:22:20.383 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-28 19:22:20.393 +00:00 [INF] Creating key {ab6896b4-a835-4de4-a78a-a017631f7eb3} with creation date 2024-04-28 19:22:20Z, activation date 2024-04-28 19:22:20Z, and expiration date 2024-07-27 19:22:20Z.
2024-04-28 19:22:20.402 +00:00 [WRN] No XML encryptor configured. Key {ab6896b4-a835-4de4-a78a-a017631f7eb3} may be persisted to storage in unencrypted form.
2024-04-28 19:22:20.493 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-28 19:22:20.496 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-28 19:22:20.497 +00:00 [INF] Hosting environment: Development
2024-04-28 19:22:20.498 +00:00 [INF] Content root path: /app
2024-04-28 19:23:20.315 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-28 19:23:20.449 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 134.4821ms
2024-04-28 19:23:20.697 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-28 19:23:20.807 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.5446ms
2024-04-28 19:23:53.263 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-28 19:23:53.369 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-28 19:23:53.386 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-28 19:23:53.550 +00:00 [INF] Executed DbCommand (57ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-28 19:23:53.750 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-04-28 19:23:53.781 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-28 19:23:53.790 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 400.5072ms
2024-04-28 19:23:53.791 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-28 19:23:53.794 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 497.2380 ms
2024-04-28 19:23:53.797 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDQxODYzMywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.gtWcyV0XT8kjxHbSX7_WuhHiN9cy7gTYB6F3iNogWTI
Duration: 504.3406
2024-04-28 19:23:53.803 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 539.8759ms
2024-04-28 19:25:21.266 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 159
2024-04-28 19:25:21.292 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-28 19:25:21.296 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-28 19:25:21.354 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-28 19:25:21.470 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-28 19:25:21.584 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-04-28 19:25:21.602 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-28 19:25:21.638 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-04-28 19:25:21.664 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-28 19:25:21.699 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-28 19:25:21.734 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-04-28 19:25:21.779 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 200), @p3='?' (Size = 450), @p4='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([Id], [Email], [FirstName], [IdentityId], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-04-28 19:25:21.783 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-28 19:25:21.788 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 491.2026ms
2024-04-28 19:25:21.788 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-28 19:25:21.789 +00:00 [INF] HTTP POST /api/Users/register responded 200 in 497.9363 ms
2024-04-28 19:25:21.790 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 159
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "firstName": "Diana",
  "lastName": "Psychologist",
  "email": "user345@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: "ed7d6ad6-3d0b-4aa7-99e8-70541c109c41"
Duration: 498.8295
2024-04-28 19:25:21.791 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 200 null application/json; charset=utf-8 525.0833ms
2024-04-28 19:25:54.947 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 67
2024-04-28 19:25:54.950 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-28 19:25:54.951 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-28 19:25:54.984 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-28 19:25:55.110 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-04-28 19:25:55.133 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-28 19:25:55.133 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 181.995ms
2024-04-28 19:25:55.134 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-28 19:25:55.134 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 186.2917 ms
2024-04-28 19:25:55.135 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 67
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user345@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjU1ZWNmMjI2LTg0YjgtNGM0Yy05NWM1LTE2YjMyZDQ3YWVkZiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIzNDVAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0NDE4NzU1LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.qjC6ifX_hnhRlqEP8ojmWYe_PctHw37HUvCXrlDJ23g
Duration: 186.9135
2024-04-28 19:25:55.136 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 188.5439ms
2024-04-28 19:27:54.777 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-28 19:27:54.809 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-28 19:27:54.811 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-28 19:27:54.824 +00:00 [INF] Запрос на бронирование
2024-04-28 19:27:54.839 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__identityId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[IdentityId] = @__identityId_0
2024-04-28 19:27:54.842 +00:00 [INF] Проверка параметров бронирования
2024-04-28 19:27:54.850 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Amenities], [a].[CleaningFee], [a].[Description], [a].[LastBookedOnUtc], [a].[Name], [a].[Price], [a].[Version]
FROM [apartments] AS [a]
WHERE [a].[Id] = @__id_0
2024-04-28 19:27:54.923 +00:00 [INF] Проверка дат
2024-04-28 19:27:54.957 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__apartment_Id_0='?' (DbType = Guid), @__ToDateTime_1='?' (DbType = DateTime2), @__ToDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [bookings] AS [b]
        WHERE [b].[ApartmentId] = @__apartment_Id_0 AND [b].[DateFrom] <= @__ToDateTime_1 AND [b].[DateTo] >= @__ToDateTime_2 AND [b].[Status] IN (1, 2)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-28 19:27:54.964 +00:00 [INF] Добавление бронирования в базу данных
2024-04-28 19:27:55.015 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Int32), @p17='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [apartments] SET [LastBookedOnUtc] = @p0, [Version] = @p1
OUTPUT 1
WHERE [Id] = @p2 AND [Version] = @p3;
INSERT INTO [bookings] ([Id], [AmenitiesUpCharge], [ApartmentId], [CancelledOnUtc], [CleaningFee], [CompletedOnUtc], [ConfirmedOnUtc], [CreatedOnUtc], [DateFrom], [DateTo], [PriceForPeriod], [RejectedOnUtc], [Status], [TotalPrice], [UserId])
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-04-28 19:27:55.022 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-28 19:27:55.023 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 211.2752ms
2024-04-28 19:27:55.024 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-28 19:27:55.024 +00:00 [INF] HTTP POST /api/Booking/reserve responded 200 in 246.1978 ms
2024-04-28 19:27:55.025 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjU1ZWNmMjI2LTg0YjgtNGM0Yy05NWM1LTE2YjMyZDQ3YWVkZiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIzNDVAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0NDE4NzU1LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.qjC6ifX_hnhRlqEP8ojmWYe_PctHw37HUvCXrlDJ23g
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "49F82FD1-E18F-47A3-8AC6-78A7F556CB3C",
  "dateFrom": "2024-05-08",
  "dateTo": "2024-05-12"
}
RequestBodyStatus: [Completed]
ResponseBody: "abf73089-1651-455c-b196-9746d7682e6c"
Duration: 246.7674
2024-04-28 19:27:55.026 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 200 null application/json; charset=utf-8 249.3874ms
2024-04-28 19:28:59.845 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Booking/filter?BookingStatus=1&StartDate=2024-01-01&EndDate=2024-12-12 - null null
2024-04-28 19:28:59.851 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.FilterBookings (Bookify)'
2024-04-28 19:28:59.855 +00:00 [INF] Route matched with {action = "FilterBookings", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult FilterBookings(Bookify.Models.Requests.FilterBookingsRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-28 19:28:59.869 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identityId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[IdentityId] = @__identityId_0
2024-04-28 19:30:18.413 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:30:18.465 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:30:18.468 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:30:18.469 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:30:18.486 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-28 19:30:18.501 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-28 19:30:18.601 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-28 19:30:18.610 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:30:18.611 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:30:18.611 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:30:18.612 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:30:18.612 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:30:18.613 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-28 19:30:18.645 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:30:18.647 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:30:18.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-28 19:30:18.649 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-28 19:30:18.652 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-28 19:30:18.653 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-28 19:30:18.856 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-28 19:30:18.945 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-28 19:30:18.946 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-28 19:30:18.958 +00:00 [INF] Creating key {67b01459-459c-466d-9845-4d34b855a935} with creation date 2024-04-28 19:30:18Z, activation date 2024-04-28 19:30:18Z, and expiration date 2024-07-27 19:30:18Z.
2024-04-28 19:30:18.964 +00:00 [WRN] No XML encryptor configured. Key {67b01459-459c-466d-9845-4d34b855a935} may be persisted to storage in unencrypted form.
2024-04-28 19:30:19.028 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-28 19:30:19.030 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-28 19:30:19.031 +00:00 [INF] Hosting environment: Development
2024-04-28 19:30:19.031 +00:00 [INF] Content root path: /app
2024-04-28 19:30:26.791 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/api/Booking/filter?BookingStatus=1&StartDate=2024-01-01&EndDate=2024-12-12 - null null
2024-04-28 19:30:26.969 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.FilterBookings (Bookify)'
2024-04-28 19:30:26.986 +00:00 [INF] Route matched with {action = "FilterBookings", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult FilterBookings(Bookify.Models.Requests.FilterBookingsRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-28 19:30:27.081 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__identityId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[IdentityId] = @__identityId_0
2024-04-28 19:30:27.165 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Bookify.Models.Booking, Bookify, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-04-28 19:30:27.213 +00:00 [INF] Executed action Bookify.Controllers.BookingController.FilterBookings (Bookify) in 222.9073ms
2024-04-28 19:30:27.214 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.FilterBookings (Bookify)'
2024-04-28 19:30:27.217 +00:00 [INF] HTTP GET /api/Booking/filter responded 200 in 360.9135 ms
2024-04-28 19:30:27.220 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: GET
Scheme: http
PathBase: 
Path: /api/Booking/filter
QueryString: ?BookingStatus=1&StartDate=2024-01-01&EndDate=2024-12-12
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjU1ZWNmMjI2LTg0YjgtNGM0Yy05NWM1LTE2YjMyZDQ3YWVkZiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIzNDVAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0NDE4NzU1LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.qjC6ifX_hnhRlqEP8ojmWYe_PctHw37HUvCXrlDJ23g
Referer: [Redacted]
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
ResponseBody: [{"apartmentId":"49f82fd1-e18f-47a3-8ac6-78a7f556cb3c","userId":"ed7d6ad6-3d0b-4aa7-99e8-70541c109c41","dateFrom":"2024-05-08T00:00:00","dateTo":"2024-05-12T00:00:00","priceForPeriod":0,"cleaningFee":0,"amenitiesUpCharge":0,"totalPrice":1160.50,"status":1,"createdOnUtc":"0001-01-01T00:00:00","confirmedOnUtc":null,"rejectedOnUtc":null,"completedOnUtc":null,"cancelledOnUtc":null,"id":"abf73089-1651-455c-b196-9746d7682e6c"}]
Duration: 366.9441
2024-04-28 19:30:27.229 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/api/Booking/filter?BookingStatus=1&StartDate=2024-01-01&EndDate=2024-12-12 - 200 null application/json; charset=utf-8 438.8286ms
