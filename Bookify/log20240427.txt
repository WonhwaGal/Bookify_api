2024-04-27 16:34:56.933 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:34:57.039 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:34:57.065 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:34:57.068 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:34:57.147 +00:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 16:34:57.172 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 16:34:57.389 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 16:34:57.413 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:34:57.415 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:34:57.423 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:34:57.424 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:34:57.426 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:34:57.427 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:34:58.389 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:34:58.397 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:34:58.400 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:34:58.402 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:34:58.446 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 16:34:58.448 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 16:34:58.630 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 16:34:58.631 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 16:34:58.648 +00:00 [INF] Creating key {fe1817e4-f717-4a94-bab3-eae9a7c56728} with creation date 2024-04-27 16:34:58Z, activation date 2024-04-27 16:34:58Z, and expiration date 2024-07-26 16:34:58Z.
2024-04-27 16:34:58.663 +00:00 [WRN] No XML encryptor configured. Key {fe1817e4-f717-4a94-bab3-eae9a7c56728} may be persisted to storage in unencrypted form.
2024-04-27 16:34:58.782 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 16:34:58.785 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 16:34:58.787 +00:00 [INF] Hosting environment: Development
2024-04-27 16:34:58.788 +00:00 [INF] Content root path: /app
2024-04-27 16:36:48.748 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 16:36:48.934 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 186.772ms
2024-04-27 16:36:49.025 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-bundle.js - null null
2024-04-27 16:36:49.031 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui.css - null null
2024-04-27 16:36:49.032 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-standalone-preset.js - null null
2024-04-27 16:36:49.092 +00:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-04-27 16:36:49.097 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui.css - 200 143943 text/css 65.502ms
2024-04-27 16:36:49.165 +00:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-04-27 16:36:49.167 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 135.0117ms
2024-04-27 16:36:49.229 +00:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-04-27 16:36:49.231 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 205.8935ms
2024-04-27 16:36:49.453 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 16:36:49.687 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 234.4783ms
2024-04-27 16:37:26.846 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 164
2024-04-27 16:37:27.031 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 16:37:27.063 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 16:37:27.753 +00:00 [INF] Executed DbCommand (121ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 16:37:27.962 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 892.6354ms
2024-04-27 16:37:27.964 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 16:37:27.970 +00:00 [ERR] HTTP POST /api/Users/register responded 500 in 1079.7431 ms
System.InvalidOperationException: The value of a failure result can not be accepted
   at Bookify.Domain.Result`1.get_Value() in C:\C#Developer\MyApps\Bookify\Bookify.Domain\Result.cs:line 46
   at Bookify.Models.Services.Impl.UserRepository.AddUser(RegisterUserRequest request) in C:\C#Developer\MyApps\Bookify\Bookify\Models\Services\Impl\UserRepository.cs:line 27
   at Bookify.Controllers.UsersController.Register(RegisterUserRequest request) in C:\C#Developer\MyApps\Bookify\Bookify\Controllers\UsersController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
2024-04-27 16:37:28.018 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 164
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
RequestBody: {
  "firstName": "Regina",
  "lastName": "Shaikhutdinova",
  "email": "user12345@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
Duration: 1133.5994
2024-04-27 16:37:28.021 +00:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The value of a failure result can not be accepted
   at Bookify.Domain.Result`1.get_Value() in C:\C#Developer\MyApps\Bookify\Bookify.Domain\Result.cs:line 46
   at Bookify.Models.Services.Impl.UserRepository.AddUser(RegisterUserRequest request) in C:\C#Developer\MyApps\Bookify\Bookify\Models\Services\Impl\UserRepository.cs:line 27
   at Bookify.Controllers.UsersController.Register(RegisterUserRequest request) in C:\C#Developer\MyApps\Bookify\Bookify\Controllers\UsersController.cs:line 49
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Microsoft.AspNetCore.HttpLogging.HttpLoggingMiddleware.InvokeInternal(HttpContext context, HttpLoggingOptions options, HttpLoggingAttribute loggingAttribute, HttpLoggingFields loggingFields)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-27 16:37:28.056 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 500 null text/plain; charset=utf-8 1209.7683ms
2024-04-27 16:41:50.957 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 164
2024-04-27 16:41:51.002 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 16:41:51.005 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 16:41:52.040 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 16:46:06.045 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:46:06.128 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:46:06.133 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:46:06.135 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:46:06.168 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 16:46:06.192 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 16:46:06.370 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 16:46:06.392 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:46:06.393 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:46:06.394 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:46:06.396 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:46:06.397 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:46:06.398 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:46:07.159 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:46:07.163 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:46:07.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:46:07.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:46:07.188 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 16:46:07.190 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 16:46:07.388 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 16:46:07.389 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 16:46:07.406 +00:00 [INF] Creating key {af08aa76-f60e-4f93-af23-0a2a43687a24} with creation date 2024-04-27 16:46:07Z, activation date 2024-04-27 16:46:07Z, and expiration date 2024-07-26 16:46:07Z.
2024-04-27 16:46:07.418 +00:00 [WRN] No XML encryptor configured. Key {af08aa76-f60e-4f93-af23-0a2a43687a24} may be persisted to storage in unencrypted form.
2024-04-27 16:46:07.528 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 16:46:07.532 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 16:46:07.534 +00:00 [INF] Hosting environment: Development
2024-04-27 16:46:07.534 +00:00 [INF] Content root path: /app
2024-04-27 16:46:09.218 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 16:46:09.389 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 172.0912ms
2024-04-27 16:46:09.805 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 16:46:09.822 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/favicon-32x32.png - null null
2024-04-27 16:46:09.846 +00:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-04-27 16:46:09.847 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/favicon-32x32.png - 200 628 image/png 25.3419ms
2024-04-27 16:46:10.032 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 226.9111ms
2024-04-27 16:47:15.939 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:47:16.040 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:47:16.046 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:47:16.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:47:16.080 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 16:47:16.102 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 16:47:16.266 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 16:47:16.288 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:47:16.289 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:47:16.290 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:47:16.291 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:47:16.292 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:47:16.293 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 16:47:16.996 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:47:17.000 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:47:17.001 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 16:47:17.003 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 16:47:17.019 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 16:47:17.021 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 16:47:17.170 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 16:47:17.171 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 16:47:17.188 +00:00 [INF] Creating key {58a215bc-2de5-45e9-9bc7-d99b6da91ce3} with creation date 2024-04-27 16:47:17Z, activation date 2024-04-27 16:47:17Z, and expiration date 2024-07-26 16:47:17Z.
2024-04-27 16:47:17.198 +00:00 [WRN] No XML encryptor configured. Key {58a215bc-2de5-45e9-9bc7-d99b6da91ce3} may be persisted to storage in unencrypted form.
2024-04-27 16:47:17.301 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 16:47:17.304 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 16:47:17.305 +00:00 [INF] Hosting environment: Development
2024-04-27 16:47:17.306 +00:00 [INF] Content root path: /app
2024-04-27 16:47:19.130 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 16:47:19.299 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 171.0571ms
2024-04-27 16:47:19.573 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 16:47:19.775 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 201.471ms
2024-04-27 16:47:34.618 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 150
2024-04-27 16:47:34.766 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 16:47:34.797 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 16:47:35.359 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 16:47:35.542 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-27 16:47:35.811 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-04-27 16:48:37.468 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 200), @p3='?' (Size = 450), @p4='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([Id], [Email], [FirstName], [IdentityId], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-04-27 16:48:37.482 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-27 16:48:37.497 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 62694.764ms
2024-04-27 16:48:37.499 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 16:48:37.503 +00:00 [INF] HTTP POST /api/Users/register responded 200 in 62863.0044 ms
2024-04-27 16:48:37.508 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 150
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "firstName": "Reggg",
  "lastName": "Shay",
  "email": "user99@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: "337a8bee-5f90-49f2-a213-362a2e713332"
Duration: 62874.4235
2024-04-27 16:48:37.517 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 200 null application/json; charset=utf-8 62899.7304ms
2024-04-27 17:00:12.505 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 17:00:12.514 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:00:12.521 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 17:00:12.809 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 17:00:12.963 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 17:00:12.967 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 444.9054ms
2024-04-27 17:00:12.968 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:00:12.971 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 458.8728 ms
2024-04-27 17:00:12.973 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyMzYxMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.HPfGm6ehywFCIiiY0aR1Q416DgVWjqVxrOnpOPu0S_I
Duration: 460.2111
2024-04-27 17:00:12.975 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 469.9243ms
2024-04-27 17:23:59.591 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:23:59.779 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:23:59.787 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:23:59.791 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:23:59.828 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:23:59.865 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:24:00.106 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 17:24:00.128 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:24:00.129 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:24:00.130 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:24:00.131 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:24:00.132 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:24:00.133 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:24:00.214 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:24:00.217 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:24:00.220 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:24:00.223 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:24:00.270 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:24:00.273 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:24:00.479 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 17:24:00.480 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 17:24:00.501 +00:00 [INF] Creating key {d2d64556-2e00-43cd-a822-fca2fa595b41} with creation date 2024-04-27 17:24:00Z, activation date 2024-04-27 17:24:00Z, and expiration date 2024-07-26 17:24:00Z.
2024-04-27 17:24:00.516 +00:00 [WRN] No XML encryptor configured. Key {d2d64556-2e00-43cd-a822-fca2fa595b41} may be persisted to storage in unencrypted form.
2024-04-27 17:24:00.652 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 17:24:00.657 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 17:24:00.658 +00:00 [INF] Hosting environment: Development
2024-04-27 17:24:00.659 +00:00 [INF] Content root path: /app
2024-04-27 17:24:01.673 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 17:24:01.897 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 225.9661ms
2024-04-27 17:24:02.311 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 17:24:02.609 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.2557ms
2024-04-27 17:24:53.794 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 17:24:53.837 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:24:54.001 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:24:54.006 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 181.7412 ms
2024-04-27 17:24:54.014 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 196.0843
2024-04-27 17:24:54.018 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 224.4998ms
2024-04-27 17:25:29.262 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 17:25:29.311 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:25:29.355 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 17:25:30.216 +00:00 [INF] Executed DbCommand (89ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 17:25:30.598 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 17:25:30.615 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 1253.0088ms
2024-04-27 17:25:30.617 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:25:30.622 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 1323.6465 ms
2024-04-27 17:25:30.627 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNTEzMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.3R4jLW4BfvWgDF2_Fnxr55KOdYuCtLjKUJACwRRJ1pI
Duration: 1328.8424
2024-04-27 17:25:30.640 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 1377.7939ms
2024-04-27 17:25:50.110 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 17:25:50.115 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:25:50.188 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:25:50.189 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 76.4708 ms
2024-04-27 17:25:50.190 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNTEzMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.3R4jLW4BfvWgDF2_Fnxr55KOdYuCtLjKUJACwRRJ1pI
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 77.7904
2024-04-27 17:25:50.192 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 81.9171ms
2024-04-27 17:26:01.209 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 17:26:01.212 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:26:01.215 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:26:01.217 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 7.1755 ms
2024-04-27 17:26:01.218 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNTEzMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.3R4jLW4BfvWgDF2_Fnxr55KOdYuCtLjKUJACwRRJ1pI
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 8.5207
2024-04-27 17:26:01.221 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 12.2156ms
2024-04-27 17:31:52.211 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 17:31:52.214 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:31:52.238 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:31:52.238 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 24.7433 ms
2024-04-27 17:31:52.239 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNTEzMCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.3R4jLW4BfvWgDF2_Fnxr55KOdYuCtLjKUJACwRRJ1pI
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 25.5293
2024-04-27 17:31:52.239 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 28.1852ms
2024-04-27 17:34:45.796 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:34:45.849 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:34:45.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:34:45.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:34:45.866 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:34:45.879 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:34:45.965 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 17:34:45.974 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:34:45.975 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:34:45.975 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:34:45.976 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:34:45.976 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:34:45.976 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:34:46.007 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:34:46.009 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:34:46.010 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:34:46.011 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:34:46.014 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:34:46.014 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:34:46.094 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 17:34:46.095 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 17:34:46.104 +00:00 [INF] Creating key {fe4ab81b-8a1b-45fd-9be3-0cfa9c611c9c} with creation date 2024-04-27 17:34:46Z, activation date 2024-04-27 17:34:46Z, and expiration date 2024-07-26 17:34:46Z.
2024-04-27 17:34:46.110 +00:00 [WRN] No XML encryptor configured. Key {fe4ab81b-8a1b-45fd-9be3-0cfa9c611c9c} may be persisted to storage in unencrypted form.
2024-04-27 17:34:46.180 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 17:34:46.182 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 17:34:46.184 +00:00 [INF] Hosting environment: Development
2024-04-27 17:34:46.184 +00:00 [INF] Content root path: /app
2024-04-27 17:34:47.245 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 17:34:47.347 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 102.6514ms
2024-04-27 17:34:47.504 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 17:34:47.632 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.2646ms
2024-04-27 17:35:11.189 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 17:35:11.293 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:35:11.313 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 17:35:11.652 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 17:35:11.816 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 17:35:11.824 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 506.8135ms
2024-04-27 17:35:11.825 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:35:11.828 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 601.9767 ms
2024-04-27 17:35:11.832 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNTcxMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.XdUU-a02nmuatWaBTjt9nNpPOudCeMiP_4ieAPiXAeM
Duration: 610.0568
2024-04-27 17:35:11.838 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 649.6373ms
2024-04-27 17:36:03.841 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 17:36:03.858 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:36:03.888 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:36:03.889 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 36.5222 ms
2024-04-27 17:36:03.889 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNTcxMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.XdUU-a02nmuatWaBTjt9nNpPOudCeMiP_4ieAPiXAeM
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 37.2238
2024-04-27 17:36:03.890 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 50.6441ms
2024-04-27 17:45:36.152 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:45:36.206 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:45:36.209 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:45:36.210 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:45:36.223 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:45:36.234 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:45:36.319 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 17:45:36.329 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:45:36.329 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:45:36.329 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:45:36.330 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:45:36.330 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:45:36.331 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:45:36.362 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:45:36.363 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:45:36.364 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:45:36.365 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:45:36.368 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:45:36.369 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:45:36.448 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 17:45:36.449 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 17:45:36.459 +00:00 [INF] Creating key {e1fd7066-45d6-4f08-8e71-eaaf6bf54e84} with creation date 2024-04-27 17:45:36Z, activation date 2024-04-27 17:45:36Z, and expiration date 2024-07-26 17:45:36Z.
2024-04-27 17:45:36.464 +00:00 [WRN] No XML encryptor configured. Key {e1fd7066-45d6-4f08-8e71-eaaf6bf54e84} may be persisted to storage in unencrypted form.
2024-04-27 17:45:36.525 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 17:45:36.527 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 17:45:36.527 +00:00 [INF] Hosting environment: Development
2024-04-27 17:45:36.528 +00:00 [INF] Content root path: /app
2024-04-27 17:46:14.679 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 17:46:14.776 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 97.5733ms
2024-04-27 17:46:14.945 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 17:46:15.080 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 135.0433ms
2024-04-27 17:47:44.926 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 17:47:45.005 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:47:45.025 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 17:47:45.374 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 17:47:45.534 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 17:47:45.541 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 513.1397ms
2024-04-27 17:47:45.542 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 17:47:45.545 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 603.8134 ms
2024-04-27 17:47:45.548 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNjQ2NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.zniFBqwdjmf-4xkZ0CepG__kSv4tBzQAyBJbpeENKZg
Duration: 610.2987
2024-04-27 17:47:45.553 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 627.4441ms
2024-04-27 17:48:35.697 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 17:48:35.709 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:48:35.741 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:48:35.742 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 38.4301 ms
2024-04-27 17:48:35.743 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNjQ2NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.zniFBqwdjmf-4xkZ0CepG__kSv4tBzQAyBJbpeENKZg
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 39.2353
2024-04-27 17:48:35.743 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 45.9236ms
2024-04-27 17:50:02.086 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - application/json 94
2024-04-27 17:50:02.089 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 17:50:02.092 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 17:50:02.093 +00:00 [INF] HTTP POST /api/Apartments/add-apartment responded 401 in 5.6432 ms
2024-04-27 17:50:02.093 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Apartments/add-apartment
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNjQ2NSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.zniFBqwdjmf-4xkZ0CepG__kSv4tBzQAyBJbpeENKZg
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 6.1157
2024-04-27 17:50:02.094 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - 401 0 null 7.7455ms
2024-04-27 17:59:09.531 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:59:09.577 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:59:09.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:59:09.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:59:09.592 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:59:09.602 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:59:09.692 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 17:59:09.700 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:59:09.701 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:59:09.701 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:59:09.702 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:59:09.702 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:59:09.702 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 17:59:09.739 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:59:09.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:59:09.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 17:59:09.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 17:59:09.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 17:59:09.747 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 17:59:09.838 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 17:59:09.839 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 17:59:09.848 +00:00 [INF] Creating key {50d46069-a1c3-415a-a403-163c1a1b40de} with creation date 2024-04-27 17:59:09Z, activation date 2024-04-27 17:59:09Z, and expiration date 2024-07-26 17:59:09Z.
2024-04-27 17:59:09.854 +00:00 [WRN] No XML encryptor configured. Key {50d46069-a1c3-415a-a403-163c1a1b40de} may be persisted to storage in unencrypted form.
2024-04-27 17:59:09.910 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 17:59:09.911 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 17:59:09.912 +00:00 [INF] Hosting environment: Development
2024-04-27 17:59:09.912 +00:00 [INF] Content root path: /app
2024-04-27 17:59:14.283 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 17:59:14.390 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 108.2165ms
2024-04-27 17:59:14.564 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 17:59:14.693 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 129.3495ms
2024-04-27 18:00:21.923 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:00:22.047 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:00:22.065 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:00:22.373 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:00:22.533 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:00:22.540 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 471.6192ms
2024-04-27 18:00:22.541 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:00:22.543 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 577.9260 ms
2024-04-27 18:00:22.547 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNzIyMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.KlmlSf8AlaBTOt6XCa3urGc7tWGmbqbhy-FAF8nlTf0
Duration: 584.8251
2024-04-27 18:00:22.552 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 630.0336ms
2024-04-27 18:00:45.998 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 18:00:46.008 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 18:00:46.037 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 18:00:46.037 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 36.2575 ms
2024-04-27 18:00:46.038 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNzIyMiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.KlmlSf8AlaBTOt6XCa3urGc7tWGmbqbhy-FAF8nlTf0
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 37.0632
2024-04-27 18:00:46.039 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 42.0515ms
2024-04-27 18:10:08.053 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:10:08.102 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:10:08.105 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:10:08.106 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:10:08.125 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:10:08.136 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:10:08.241 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 18:10:08.252 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:10:08.253 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:10:08.253 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:10:08.253 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:10:08.254 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:10:08.254 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:10:08.588 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:10:08.590 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:10:08.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:10:08.592 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:10:08.601 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:10:08.602 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:10:08.680 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 18:10:08.681 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 18:10:08.691 +00:00 [INF] Creating key {81e1ff68-1041-4f37-b539-004fe79ae52a} with creation date 2024-04-27 18:10:08Z, activation date 2024-04-27 18:10:08Z, and expiration date 2024-07-26 18:10:08Z.
2024-04-27 18:10:08.697 +00:00 [WRN] No XML encryptor configured. Key {81e1ff68-1041-4f37-b539-004fe79ae52a} may be persisted to storage in unencrypted form.
2024-04-27 18:10:08.810 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 18:10:08.813 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 18:10:08.814 +00:00 [INF] Hosting environment: Development
2024-04-27 18:10:08.814 +00:00 [INF] Content root path: /app
2024-04-27 18:10:11.395 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:10:11.492 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 98.1879ms
2024-04-27 18:10:11.652 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:10:11.785 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 133.2077ms
2024-04-27 18:10:33.409 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:10:33.507 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:10:33.526 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:10:33.822 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:10:33.977 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:10:33.984 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 455.291ms
2024-04-27 18:10:33.985 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:10:33.988 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 544.3151 ms
2024-04-27 18:10:33.991 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNzgzMywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.hk-23P_vAMTEBvLpGB9nUYVzrXSj7QtLmje13Zf8hYM
Duration: 550.834
2024-04-27 18:10:33.996 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 587.422ms
2024-04-27 18:10:55.585 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 18:10:55.616 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 18:10:55.647 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 18:10:55.647 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 35.9083 ms
2024-04-27 18:10:55.648 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNzgzMywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.hk-23P_vAMTEBvLpGB9nUYVzrXSj7QtLmje13Zf8hYM
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 36.6857
2024-04-27 18:10:55.649 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 63.972ms
2024-04-27 18:12:32.479 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:12:32.531 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:12:32.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:12:32.536 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:12:32.555 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:12:32.568 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:12:32.663 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 18:12:32.673 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:12:32.673 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:12:32.674 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:12:32.674 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:12:32.675 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:12:32.675 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:12:33.011 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:12:33.013 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:12:33.014 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:12:33.015 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:12:33.025 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:12:33.026 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:12:33.117 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 18:12:33.118 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 18:12:33.130 +00:00 [INF] Creating key {c12c8075-435e-40fe-b81f-2d114f163308} with creation date 2024-04-27 18:12:33Z, activation date 2024-04-27 18:12:33Z, and expiration date 2024-07-26 18:12:33Z.
2024-04-27 18:12:33.136 +00:00 [WRN] No XML encryptor configured. Key {c12c8075-435e-40fe-b81f-2d114f163308} may be persisted to storage in unencrypted form.
2024-04-27 18:12:33.197 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 18:12:33.199 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 18:12:33.200 +00:00 [INF] Hosting environment: Development
2024-04-27 18:12:33.200 +00:00 [INF] Content root path: /app
2024-04-27 18:12:47.311 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:12:47.412 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 102.5654ms
2024-04-27 18:12:47.575 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:12:47.702 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.2257ms
2024-04-27 18:13:03.835 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:13:03.917 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:13:03.935 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:13:04.236 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:13:04.403 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:13:04.411 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 472.2795ms
2024-04-27 18:13:04.412 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:13:04.414 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 565.5216 ms
2024-04-27 18:13:04.418 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNzk4NCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.3_LHf8db03v-ZT_JgbEPKBaxduYSaSErdpIKi2_X2l8
Duration: 572.7713
2024-04-27 18:13:04.423 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 588.3441ms
2024-04-27 18:13:18.557 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 18:13:18.584 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 18:13:18.616 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 18:13:18.617 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 36.9357 ms
2024-04-27 18:13:18.617 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyNzk4NCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.3_LHf8db03v-ZT_JgbEPKBaxduYSaSErdpIKi2_X2l8
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 37.7495
2024-04-27 18:13:18.618 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 60.6789ms
2024-04-27 18:15:50.886 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:15:50.936 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:15:50.939 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:15:50.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:15:50.956 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:15:50.969 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:15:51.055 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 18:15:51.065 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:15:51.065 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:15:51.066 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:15:51.066 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:15:51.066 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:15:51.067 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:15:51.393 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:15:51.395 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:15:51.396 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:15:51.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:15:51.407 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:15:51.408 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:15:51.488 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 18:15:51.489 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 18:15:51.501 +00:00 [INF] Creating key {b091c3cc-a846-48d9-ade6-8ba143cf2def} with creation date 2024-04-27 18:15:51Z, activation date 2024-04-27 18:15:51Z, and expiration date 2024-07-26 18:15:51Z.
2024-04-27 18:15:51.507 +00:00 [WRN] No XML encryptor configured. Key {b091c3cc-a846-48d9-ade6-8ba143cf2def} may be persisted to storage in unencrypted form.
2024-04-27 18:15:51.575 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 18:15:51.578 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 18:15:51.579 +00:00 [INF] Hosting environment: Development
2024-04-27 18:15:51.580 +00:00 [INF] Content root path: /app
2024-04-27 18:15:55.306 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:15:55.408 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 103.6817ms
2024-04-27 18:15:55.593 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:15:55.727 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 134.018ms
2024-04-27 18:16:20.234 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 151
2024-04-27 18:16:20.316 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 18:16:20.334 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:16:20.654 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:16:20.749 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-27 18:16:20.883 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-04-27 18:16:20.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:16:20.905 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 567.843ms
2024-04-27 18:16:20.906 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 18:16:20.909 +00:00 [INF] HTTP POST /api/Users/register responded 200 in 659.0823 ms
2024-04-27 18:16:20.912 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 151
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "firstName": "Rere",
  "lastName": "Shasha",
  "email": "user88@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: c9b8c50b-0b13-40b5-bd02-3854c40cbb1b
Duration: 666.1887
2024-04-27 18:16:20.918 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 200 null text/plain; charset=utf-8 683.5555ms
2024-04-27 18:16:37.581 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:16:37.585 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:16:37.590 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:16:37.602 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:16:37.714 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:16:37.715 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 124.2612ms
2024-04-27 18:16:37.716 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:16:37.716 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 132.3753 ms
2024-04-27 18:16:37.717 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user88@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImM5YjhjNTBiLTBiMTMtNDBiNS1iZDAyLTM4NTRjNDBjYmIxYiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI4OEBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyODE5NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.EjKRUC0jHXvKqxMIt1dTh3C7WuxV4BWJh7T_WQujm78
Duration: 133.2101
2024-04-27 18:16:37.718 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 136.4201ms
2024-04-27 18:17:00.963 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 18:17:01.017 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 18:17:01.049 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 18:17:01.050 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 42.9272 ms
2024-04-27 18:17:01.050 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6ImM5YjhjNTBiLTBiMTMtNDBiNS1iZDAyLTM4NTRjNDBjYmIxYiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI4OEBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyODE5NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.EjKRUC0jHXvKqxMIt1dTh3C7WuxV4BWJh7T_WQujm78
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 43.4212
2024-04-27 18:17:01.051 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 87.6143ms
2024-04-27 18:35:08.842 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:35:08.897 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:35:08.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:35:08.902 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:35:08.921 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:35:08.934 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:35:09.030 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 18:35:09.040 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:35:09.040 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:35:09.041 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:35:09.041 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:35:09.042 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:35:09.042 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:35:09.362 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:35:09.365 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:35:09.366 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:35:09.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:35:09.379 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:35:09.380 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:35:09.482 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 18:35:09.483 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 18:35:09.494 +00:00 [INF] Creating key {86da6cc1-9883-4c98-b6ad-603076a5eb88} with creation date 2024-04-27 18:35:09Z, activation date 2024-04-27 18:35:09Z, and expiration date 2024-07-26 18:35:09Z.
2024-04-27 18:35:09.502 +00:00 [WRN] No XML encryptor configured. Key {86da6cc1-9883-4c98-b6ad-603076a5eb88} may be persisted to storage in unencrypted form.
2024-04-27 18:35:09.574 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 18:35:09.576 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 18:35:09.578 +00:00 [INF] Hosting environment: Development
2024-04-27 18:35:09.578 +00:00 [INF] Content root path: /app
2024-04-27 18:35:51.128 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:35:51.227 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 99.8616ms
2024-04-27 18:35:51.414 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:35:51.531 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 116.7018ms
2024-04-27 18:36:35.913 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:36:36.042 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:36:36.061 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:36:36.397 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:36:36.555 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:36:36.563 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 499.7478ms
2024-04-27 18:36:36.565 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:36:36.568 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 598.5422 ms
2024-04-27 18:36:36.572 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user99@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyOTM5NiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.tjHXH51H3CcTl2t-_9_d0gkcpigr9f0RvZJsKfcAGaw
Duration: 606.5092
2024-04-27 18:36:36.578 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 665.8541ms
2024-04-27 18:37:12.526 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 18:37:12.579 +00:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-27 18:37:12.610 +00:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-04-27 18:37:12.610 +00:00 [INF] HTTP POST /api/Booking/reserve responded 401 in 36.5945 ms
2024-04-27 18:37:12.611 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjM4ZWE0Y2VkLWYyNWMtNDk3Yy04YjFjLWY3MTg5NDUwYjVjNyIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5OUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyOTM5NiwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.tjHXH51H3CcTl2t-_9_d0gkcpigr9f0RvZJsKfcAGaw
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 401
WWW-Authenticate: [Redacted]
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 37.4355
2024-04-27 18:37:12.612 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 401 0 null 86.0079ms
2024-04-27 18:41:04.688 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:41:04.738 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:41:04.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:41:04.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:41:04.760 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:41:04.773 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:41:04.868 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 18:41:04.879 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:41:04.879 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:41:04.880 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:41:04.881 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:41:04.881 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:41:04.882 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:41:05.244 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:41:05.246 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:41:05.248 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:41:05.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:41:05.258 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:41:05.260 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:41:05.356 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 18:41:05.357 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 18:41:05.369 +00:00 [INF] Creating key {4fd7b3f2-34dc-4d05-91b0-d37b1bd48a08} with creation date 2024-04-27 18:41:05Z, activation date 2024-04-27 18:41:05Z, and expiration date 2024-07-26 18:41:05Z.
2024-04-27 18:41:05.376 +00:00 [WRN] No XML encryptor configured. Key {4fd7b3f2-34dc-4d05-91b0-d37b1bd48a08} may be persisted to storage in unencrypted form.
2024-04-27 18:41:05.440 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 18:41:05.443 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 18:41:05.444 +00:00 [INF] Hosting environment: Development
2024-04-27 18:41:05.444 +00:00 [INF] Content root path: /app
2024-04-27 18:41:06.299 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:41:06.397 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 98.4617ms
2024-04-27 18:41:06.582 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:41:06.700 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 117.7666ms
2024-04-27 18:41:07.627 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:41:07.629 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 2.1477ms
2024-04-27 18:41:07.710 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:41:07.729 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.3502ms
2024-04-27 18:41:13.375 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:41:13.376 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 1.2456ms
2024-04-27 18:41:13.541 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:41:13.560 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.033ms
2024-04-27 18:41:41.861 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 146
2024-04-27 18:41:41.962 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 18:41:41.981 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:41:42.281 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:41:42.372 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-27 18:41:42.505 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-04-27 18:41:42.549 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 200), @p3='?' (Size = 450), @p4='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([Id], [Email], [FirstName], [IdentityId], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-04-27 18:41:42.557 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-27 18:41:42.568 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 582.2883ms
2024-04-27 18:41:42.569 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 18:41:42.571 +00:00 [INF] HTTP POST /api/Users/register responded 200 in 694.6154 ms
2024-04-27 18:41:42.575 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 146
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "firstName": "Re",
  "lastName": "Reg",
  "email": "user09@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: "facf596c-3f53-40c9-b540-c32afdeac3c5"
Duration: 701.7187
2024-04-27 18:41:42.581 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 200 null application/json; charset=utf-8 720.1022ms
2024-04-27 18:42:11.007 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:42:11.036 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:42:11.061 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:42:11.115 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:42:11.226 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:42:11.229 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 167.5675ms
2024-04-27 18:42:11.230 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:42:11.230 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 195.5126 ms
2024-04-27 18:42:11.231 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user09@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyOTczMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ._tEHKVEF4cAos91EQQFzNZbW2YgBMIRcjXw-VZ7ePYE
Duration: 196.4441
2024-04-27 18:42:11.233 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 225.4648ms
2024-04-27 18:42:46.719 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 165
2024-04-27 18:42:46.773 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 18:42:46.775 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 18:42:46.789 +00:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'Bookify.Domain.ErrorResult'.
2024-04-27 18:42:46.793 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 18.0574ms
2024-04-27 18:42:46.794 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 18:42:46.794 +00:00 [INF] HTTP POST /api/Booking/reserve responded 422 in 51.4509 ms
2024-04-27 18:42:46.795 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMyOTczMSwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ._tEHKVEF4cAos91EQQFzNZbW2YgBMIRcjXw-VZ7ePYE
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 165
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 422
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "userId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "dateFrom": "2024-04-27",
  "dateTo": "2024-04-27"
}
RequestBodyStatus: [Completed]
ResponseBody: {"errorCode":-106,"errorMessages":["Промежуток времени указан неверно: дата заезда больше или равна дате выезда","Дата заезда не может быть меньше или равна текущей"]}
Duration: 72.9342
2024-04-27 18:42:46.795 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 422 null application/json; charset=utf-8 78.3773ms
2024-04-27 18:48:47.143 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:48:47.193 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:48:47.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:48:47.198 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:48:47.215 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:48:47.228 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:48:47.325 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 18:48:47.335 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:48:47.336 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:48:47.336 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:48:47.336 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:48:47.337 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:48:47.337 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 18:48:47.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:48:47.662 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:48:47.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 18:48:47.664 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 18:48:47.676 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 18:48:47.677 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 18:48:47.758 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 18:48:47.758 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 18:48:47.768 +00:00 [INF] Creating key {ac5ca4e8-d6c4-4ec6-b900-782cf8f1e3e8} with creation date 2024-04-27 18:48:47Z, activation date 2024-04-27 18:48:47Z, and expiration date 2024-07-26 18:48:47Z.
2024-04-27 18:48:47.774 +00:00 [WRN] No XML encryptor configured. Key {ac5ca4e8-d6c4-4ec6-b900-782cf8f1e3e8} may be persisted to storage in unencrypted form.
2024-04-27 18:48:47.835 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 18:48:47.836 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 18:48:47.837 +00:00 [INF] Hosting environment: Development
2024-04-27 18:48:47.837 +00:00 [INF] Content root path: /app
2024-04-27 18:48:49.216 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 18:48:49.315 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 99.457ms
2024-04-27 18:48:49.466 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 18:48:49.587 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 120.7015ms
2024-04-27 18:48:57.895 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 18:48:57.976 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:48:57.995 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 18:48:58.309 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 18:48:58.463 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 18:48:58.471 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 472.8727ms
2024-04-27 18:48:58.471 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 18:48:58.474 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 565.3236 ms
2024-04-27 18:48:58.477 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user09@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMDEzOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.WB7wYddusmMNUzB5VYe07ooPGo4YTFKZj8Y-uaIL478
Duration: 572.613
2024-04-27 18:48:58.483 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 588.1503ms
2024-04-27 18:50:28.536 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 18:50:28.580 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 18:50:28.584 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 18:50:28.600 +00:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'Bookify.Domain.ErrorResult'.
2024-04-27 18:50:28.605 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 20.623ms
2024-04-27 18:50:28.605 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 18:50:28.606 +00:00 [INF] HTTP POST /api/Booking/reserve responded 422 in 61.4675 ms
2024-04-27 18:50:28.606 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMDEzOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.WB7wYddusmMNUzB5VYe07ooPGo4YTFKZj8Y-uaIL478
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 422
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "dateFrom": "2024-04-27",
  "dateTo": "2024-04-27"
}
RequestBodyStatus: [Completed]
ResponseBody: {"errorCode":-106,"errorMessages":["Промежуток времени указан неверно: дата заезда больше или равна дате выезда","Дата заезда не может быть меньше или равна текущей"]}
Duration: 62.0496
2024-04-27 18:50:28.607 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 422 null application/json; charset=utf-8 72.4009ms
2024-04-27 18:50:49.896 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 18:50:49.902 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 18:50:49.903 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 19:18:55.132 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:18:55.186 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:18:55.189 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:18:55.190 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:18:55.212 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 19:18:55.224 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 19:18:55.319 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 19:18:55.332 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:18:55.332 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:18:55.333 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:18:55.333 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:18:55.334 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:18:55.334 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:18:55.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:18:55.686 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:18:55.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:18:55.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:18:55.702 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 19:18:55.703 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 19:18:55.951 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 19:18:56.053 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-04-27 19:18:56.106 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-04-27 19:18:56.173 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 19:18:56.173 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 19:18:56.185 +00:00 [INF] Creating key {b2d2c796-739b-49a8-8b07-f8c0460a6481} with creation date 2024-04-27 19:18:56Z, activation date 2024-04-27 19:18:56Z, and expiration date 2024-07-26 19:18:56Z.
2024-04-27 19:18:56.192 +00:00 [WRN] No XML encryptor configured. Key {b2d2c796-739b-49a8-8b07-f8c0460a6481} may be persisted to storage in unencrypted form.
2024-04-27 19:18:56.265 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2024-04-27 19:18:56.293 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 19:18:56.295 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 19:18:56.296 +00:00 [INF] Hosting environment: Development
2024-04-27 19:18:56.297 +00:00 [INF] Content root path: /app
2024-04-27 19:18:56.313 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-04-27 19:18:56.316 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2024-04-27 19:18:56.344 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (@p0, @p1, @p2, @p3);
2024-04-27 19:19:38.148 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 19:19:38.251 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 104.01ms
2024-04-27 19:19:38.438 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 19:19:38.564 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.1081ms
2024-04-27 19:19:49.617 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Review/post-review - application/json 95
2024-04-27 19:19:49.744 +00:00 [INF] Executing endpoint 'Bookify.Controllers.ReviewController.PostReview (Bookify)'
2024-04-27 19:19:49.757 +00:00 [INF] Route matched with {action = "PostReview", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PostReview(Bookify.Models.Requests.CreateReviewRequest) on controller Bookify.Controllers.ReviewController (Bookify).
2024-04-27 19:19:49.807 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AmenitiesUpCharge], [b].[ApartmentId], [b].[CancelledOnUtc], [b].[CleaningFee], [b].[CompletedOnUtc], [b].[ConfirmedOnUtc], [b].[CreatedOnUtc], [b].[DateFrom], [b].[DateTo], [b].[PriceForPeriod], [b].[RejectedOnUtc], [b].[Status], [b].[TotalPrice], [b].[UserId]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-04-27 19:19:49.813 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Bookify.Domain.Error'.
2024-04-27 19:19:49.827 +00:00 [INF] Executed action Bookify.Controllers.ReviewController.PostReview (Bookify) in 65.5209ms
2024-04-27 19:19:49.828 +00:00 [INF] Executed endpoint 'Bookify.Controllers.ReviewController.PostReview (Bookify)'
2024-04-27 19:19:49.830 +00:00 [INF] HTTP POST /api/Review/post-review responded 400 in 199.2076 ms
2024-04-27 19:19:49.834 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Review/post-review
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMDEzOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.WB7wYddusmMNUzB5VYe07ooPGo4YTFKZj8Y-uaIL478
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 95
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 400
Content-Type: application/json; charset=utf-8
RequestBody: {
  "bookingId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "rating": 5,
  "comment": "string"
}
RequestBodyStatus: [Completed]
ResponseBody: {"code":"Booking.Found","name":"Booking with the specified identifier was not found"}
Duration: 206.8398
2024-04-27 19:19:49.840 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Review/post-review - 400 null application/json; charset=utf-8 222.8876ms
2024-04-27 19:20:01.308 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 19:20:01.313 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 19:20:01.316 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 19:20:01.331 +00:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'Bookify.Domain.ErrorResult'.
2024-04-27 19:20:01.334 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 18.2198ms
2024-04-27 19:20:01.335 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 19:20:01.335 +00:00 [INF] HTTP POST /api/Booking/reserve responded 422 in 25.5013 ms
2024-04-27 19:20:01.336 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMDEzOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.WB7wYddusmMNUzB5VYe07ooPGo4YTFKZj8Y-uaIL478
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 422
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "dateFrom": "2024-04-27",
  "dateTo": "2024-04-27"
}
RequestBodyStatus: [Completed]
ResponseBody: {"errorCode":-106,"errorMessages":["Промежуток времени указан неверно: дата заезда больше или равна дате выезда","Дата заезда не может быть меньше или равна текущей"]}
Duration: 26.2312
2024-04-27 19:20:01.337 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 422 null application/json; charset=utf-8 29.5739ms
2024-04-27 19:20:08.957 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - application/json 94
2024-04-27 19:20:08.963 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2024-04-27 19:20:08.966 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-04-27 19:20:08.967 +00:00 [INF] HTTP POST /api/Apartments/add-apartment responded 403 in 8.4707 ms
2024-04-27 19:20:08.967 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Apartments/add-apartment
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMDEzOCwiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.WB7wYddusmMNUzB5VYe07ooPGo4YTFKZj8Y-uaIL478
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 403
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 8.9941
2024-04-27 19:20:08.968 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - 403 0 null 10.7779ms
2024-04-27 19:34:11.849 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:34:11.900 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:34:11.903 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:34:11.905 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:34:11.922 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 19:34:11.935 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 19:34:12.027 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 19:34:12.037 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:34:12.037 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:34:12.037 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:34:12.038 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:34:12.038 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:34:12.039 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 19:34:12.373 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:34:12.375 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:34:12.376 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 19:34:12.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 19:34:12.387 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 19:34:12.388 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 19:34:12.589 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 19:34:12.665 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 19:34:12.666 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 19:34:12.675 +00:00 [INF] Creating key {325da05b-e31d-423a-8f9c-195f97f410cb} with creation date 2024-04-27 19:34:12Z, activation date 2024-04-27 19:34:12Z, and expiration date 2024-07-26 19:34:12Z.
2024-04-27 19:34:12.681 +00:00 [WRN] No XML encryptor configured. Key {325da05b-e31d-423a-8f9c-195f97f410cb} may be persisted to storage in unencrypted form.
2024-04-27 19:34:12.741 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 19:34:12.743 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 19:34:12.744 +00:00 [INF] Hosting environment: Development
2024-04-27 19:34:12.744 +00:00 [INF] Content root path: /app
2024-04-27 19:35:47.055 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 66
2024-04-27 19:35:47.176 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 19:35:47.197 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 19:35:47.360 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 19:35:47.527 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-04-27 19:35:47.555 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 19:35:47.565 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 364.5866ms
2024-04-27 19:35:47.567 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 19:35:47.570 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 460.5122 ms
2024-04-27 19:35:47.573 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 66
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user09@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMjk0NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.mBsFZ-nk3dAcIf4kUA7KEO0jZx7fbihNCvi5aJrl0ck
Duration: 466.7468
2024-04-27 19:35:47.580 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 526.3039ms
2024-04-27 19:36:06.199 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 19:36:06.246 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 47.3644ms
2024-04-27 19:36:06.475 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 19:36:06.586 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 110.7729ms
2024-04-27 19:36:28.712 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Review/post-review - application/json 95
2024-04-27 19:36:28.747 +00:00 [INF] Executing endpoint 'Bookify.Controllers.ReviewController.PostReview (Bookify)'
2024-04-27 19:36:28.750 +00:00 [INF] Route matched with {action = "PostReview", controller = "Review"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult PostReview(Bookify.Models.Requests.CreateReviewRequest) on controller Bookify.Controllers.ReviewController (Bookify).
2024-04-27 19:36:28.772 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[AmenitiesUpCharge], [b].[ApartmentId], [b].[CancelledOnUtc], [b].[CleaningFee], [b].[CompletedOnUtc], [b].[ConfirmedOnUtc], [b].[CreatedOnUtc], [b].[DateFrom], [b].[DateTo], [b].[PriceForPeriod], [b].[RejectedOnUtc], [b].[Status], [b].[TotalPrice], [b].[UserId]
FROM [bookings] AS [b]
WHERE [b].[Id] = @__id_0
2024-04-27 19:36:28.774 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Bookify.Domain.Error'.
2024-04-27 19:36:28.778 +00:00 [INF] Executed action Bookify.Controllers.ReviewController.PostReview (Bookify) in 27.8528ms
2024-04-27 19:36:28.779 +00:00 [INF] Executed endpoint 'Bookify.Controllers.ReviewController.PostReview (Bookify)'
2024-04-27 19:36:28.779 +00:00 [INF] HTTP POST /api/Review/post-review responded 400 in 64.9947 ms
2024-04-27 19:36:28.780 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Review/post-review
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMjk0NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.mBsFZ-nk3dAcIf4kUA7KEO0jZx7fbihNCvi5aJrl0ck
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 95
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 400
Content-Type: application/json; charset=utf-8
RequestBody: {
  "bookingId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "rating": 5,
  "comment": "string"
}
RequestBodyStatus: [Completed]
ResponseBody: {"code":"Booking.Found","name":"Booking with the specified identifier was not found"}
Duration: 65.6951
2024-04-27 19:36:28.781 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Review/post-review - 400 null application/json; charset=utf-8 71.5148ms
2024-04-27 19:36:40.836 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - application/json 94
2024-04-27 19:36:40.844 +00:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2024-04-27 19:36:40.846 +00:00 [INF] AuthenticationScheme: Bearer was forbidden.
2024-04-27 19:36:40.846 +00:00 [INF] HTTP POST /api/Apartments/add-apartment responded 403 in 9.7608 ms
2024-04-27 19:36:40.847 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Apartments/add-apartment
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjNiYzc4ZWM2LTk5M2MtNDExMi05YjIxLTZmYzdkODlhMDM4MiIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXIwOUBleGFtcGxlLmNvbSIsImV4cCI6MTcxNDMzMjk0NywiaXNzIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCIsImF1ZCI6Imh0dHBzOi8vbG9jYWxob3N0OjgwODAifQ.mBsFZ-nk3dAcIf4kUA7KEO0jZx7fbihNCvi5aJrl0ck
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 403
RequestBody: 
RequestBodyStatus: [Not consumed by app]
Duration: 10.2813
2024-04-27 19:36:40.848 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - 403 0 null 11.9251ms
2024-04-27 19:37:24.827 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 19:37:24.934 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 106.9704ms
2024-04-27 19:37:25.103 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 19:37:25.121 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.9374ms
2024-04-27 19:38:26.731 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 154
2024-04-27 19:38:26.757 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 19:38:26.762 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 19:38:26.775 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 19:38:26.840 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Bookify.Domain.Error'.
2024-04-27 19:38:26.840 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 77.942ms
2024-04-27 19:38:26.841 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 19:38:26.842 +00:00 [INF] HTTP POST /api/Users/register responded 400 in 85.7209 ms
2024-04-27 19:38:26.842 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 154
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 400
Content-Type: application/json; charset=utf-8
RequestBody: {
  "firstName": "Alina",
  "lastName": "Painter",
  "email": "user555@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: {"code":"User.Account","name":"User account failed to be created"}
Duration: 86.3349
2024-04-27 19:38:26.844 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 400 null application/json; charset=utf-8 114.536ms
2024-04-27 19:44:31.353 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 154
2024-04-27 19:44:31.376 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 19:44:31.377 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 19:44:31.869 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 19:44:31.870 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Bookify.Domain.Error'.
2024-04-27 19:44:31.870 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 492.6986ms
2024-04-27 19:44:31.871 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 19:44:31.872 +00:00 [INF] HTTP POST /api/Users/register responded 400 in 497.0586 ms
2024-04-27 19:44:31.872 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 154
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 400
Content-Type: application/json; charset=utf-8
RequestBody: {
  "firstName": "Alina",
  "lastName": "Painter",
  "email": "user555@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: {"code":"User.Account","name":"User account failed to be created"}
Duration: 518.3253
2024-04-27 19:44:31.874 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 400 null application/json; charset=utf-8 520.2423ms
2024-04-27 19:44:49.083 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/register - application/json 154
2024-04-27 19:44:49.084 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 19:44:49.085 +00:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Bookify.Models.Requests.RegisterUserRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 19:44:49.131 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 19:44:49.227 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-27 19:44:49.318 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2024-04-27 19:44:49.338 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-27 19:44:49.373 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-04-27 19:44:49.379 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-04-27 19:44:49.413 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-27 19:44:49.498 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p16='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p17='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
OUTPUT 1
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
2024-04-27 19:44:49.855 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 200), @p3='?' (Size = 450), @p4='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [users] ([Id], [Email], [FirstName], [IdentityId], [LastName])
VALUES (@p0, @p1, @p2, @p3, @p4);
2024-04-27 19:44:49.858 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-27 19:44:49.861 +00:00 [INF] Executed action Bookify.Controllers.UsersController.Register (Bookify) in 775.4305ms
2024-04-27 19:44:49.861 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.Register (Bookify)'
2024-04-27 19:44:49.862 +00:00 [INF] HTTP POST /api/Users/register responded 200 in 778.0137 ms
2024-04-27 19:44:49.862 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/register
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 154
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "firstName": "Alina",
  "lastName": "Painter",
  "email": "user987@example.com",
  "password": "1234512345Aa$",
  "confirmPassword": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: "f0095653-02c6-465d-b46b-3d9d96a392d1"
Duration: 778.6099
2024-04-27 19:44:49.863 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/register - 200 null application/json; charset=utf-8 780.1628ms
2024-04-27 19:45:24.559 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 67
2024-04-27 19:45:24.566 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 19:45:24.568 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 19:45:24.655 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 19:45:24.780 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-04-27 19:45:24.782 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 19:45:24.783 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 214.4392ms
2024-04-27 19:45:24.783 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 19:45:24.784 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 218.7666 ms
2024-04-27 19:45:24.784 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 67
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user987@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzMzNTI0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.85Q6jRzwYJlpkfqQAxc0ieLsFYrbCCLhlDRTG90wHnw
Duration: 220.8763
2024-04-27 19:45:24.786 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 226.4676ms
2024-04-27 19:45:39.520 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - application/json 94
2024-04-27 19:45:39.523 +00:00 [INF] Executing endpoint 'Bookify.Controllers.ApartmentsController.AddApartment (Bookify)'
2024-04-27 19:45:39.525 +00:00 [INF] Route matched with {action = "AddApartment", controller = "Apartments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddApartment(Bookify.Models.Requests.AddApartmentRequest) on controller Bookify.Controllers.ApartmentsController (Bookify).
2024-04-27 19:45:39.556 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__address_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [apartments] AS [a]
        WHERE [a].[Address] = @__address_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 19:45:39.855 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 500), @p2='?' (Size = 4000), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 2000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 200), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [apartments] ([Id], [Address], [Amenities], [CleaningFee], [Description], [LastBookedOnUtc], [Name], [Price], [Version])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2024-04-27 19:45:39.856 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-27 19:45:39.857 +00:00 [INF] Executed action Bookify.Controllers.ApartmentsController.AddApartment (Bookify) in 331.3796ms
2024-04-27 19:45:39.857 +00:00 [INF] Executed endpoint 'Bookify.Controllers.ApartmentsController.AddApartment (Bookify)'
2024-04-27 19:45:39.858 +00:00 [INF] HTTP POST /api/Apartments/add-apartment responded 200 in 336.8655 ms
2024-04-27 19:45:39.859 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Apartments/add-apartment
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzMzNTI0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.85Q6jRzwYJlpkfqQAxc0ieLsFYrbCCLhlDRTG90wHnw
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "name": "string",
  "address": "stringstri",
  "price": 1000,
  "amenities": [
    1
  ]
}
RequestBodyStatus: [Completed]
ResponseBody: "f12ef7d3-efa0-4260-aefc-8bd20b34302a"
Duration: 337.5512
2024-04-27 19:45:39.859 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - 200 null application/json; charset=utf-8 339.4305ms
2024-04-27 20:03:45.576 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:03:45.628 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:03:45.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:03:45.633 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:03:45.649 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 20:03:45.661 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 20:03:45.755 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 20:03:45.768 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:03:45.768 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:03:45.769 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:03:45.769 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:03:45.770 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:03:45.770 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:03:46.127 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:03:46.129 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:03:46.130 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:03:46.132 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:03:46.142 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 20:03:46.143 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 20:03:46.352 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 20:03:46.433 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 20:03:46.434 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 20:03:46.444 +00:00 [INF] Creating key {941b4766-35ec-4276-9e4c-17265b44356f} with creation date 2024-04-27 20:03:46Z, activation date 2024-04-27 20:03:46Z, and expiration date 2024-07-26 20:03:46Z.
2024-04-27 20:03:46.450 +00:00 [WRN] No XML encryptor configured. Key {941b4766-35ec-4276-9e4c-17265b44356f} may be persisted to storage in unencrypted form.
2024-04-27 20:03:46.514 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 20:03:46.516 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 20:03:46.517 +00:00 [INF] Hosting environment: Development
2024-04-27 20:03:46.517 +00:00 [INF] Content root path: /app
2024-04-27 20:04:11.781 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 20:04:11.909 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 128.3789ms
2024-04-27 20:04:12.106 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 20:04:12.221 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 114.9906ms
2024-04-27 20:04:34.227 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Users/login - application/json 67
2024-04-27 20:04:34.315 +00:00 [INF] Executing endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 20:04:34.333 +00:00 [INF] Route matched with {action = "LogIn", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LogIn(Bookify.Models.Requests.LoginRequest) on controller Bookify.Controllers.UsersController (Bookify).
2024-04-27 20:04:34.470 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-27 20:04:34.668 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-04-27 20:04:34.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-04-27 20:04:34.705 +00:00 [INF] Executed action Bookify.Controllers.UsersController.LogIn (Bookify) in 369.263ms
2024-04-27 20:04:34.706 +00:00 [INF] Executed endpoint 'Bookify.Controllers.UsersController.LogIn (Bookify)'
2024-04-27 20:04:34.709 +00:00 [INF] HTTP POST /api/Users/login responded 200 in 464.1745 ms
2024-04-27 20:04:34.713 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Users/login
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 67
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: text/plain; charset=utf-8
RequestBody: {
  "email": "user987@example.com",
  "password": "1234512345Aa$"
}
RequestBodyStatus: [Completed]
ResponseBody: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzM0Njc0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.QCjsmEd3w5N-UxYv_nAOJdociTPs-NNVZlmSglH9tuM
Duration: 471.5041
2024-04-27 20:04:34.738 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Users/login - 200 null text/plain; charset=utf-8 510.7422ms
2024-04-27 20:05:09.145 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 20:05:09.179 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 20:05:09.182 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 20:05:09.218 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__identityId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[IdentityId] = @__identityId_0
2024-04-27 20:05:09.234 +00:00 [INF] Запрос на бронирование
2024-04-27 20:05:09.235 +00:00 [INF] Проверка параметров бронирования
2024-04-27 20:05:09.245 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[Id] = @__id_0
2024-04-27 20:05:09.258 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Amenities], [a].[CleaningFee], [a].[Description], [a].[LastBookedOnUtc], [a].[Name], [a].[Price], [a].[Version]
FROM [apartments] AS [a]
WHERE [a].[Id] = @__id_0
2024-04-27 20:05:09.331 +00:00 [INF] Проверка дат
2024-04-27 20:05:09.398 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__apartment_Id_0='?' (DbType = Guid), @__ToDateTime_1='?' (DbType = DateTime2), @__ToDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [bookings] AS [b]
        WHERE [b].[ApartmentId] = @__apartment_Id_0 AND [b].[DateFrom] <= @__ToDateTime_1 AND [b].[DateTo] >= @__ToDateTime_2 AND [b].[Status] IN (1, 2)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 20:05:09.404 +00:00 [INF] Добавление бронирования в базу данных
2024-04-27 20:05:09.538 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Int32), @p17='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [apartments] SET [LastBookedOnUtc] = @p0, [Version] = @p1
OUTPUT 1
WHERE [Id] = @p2 AND [Version] = @p3;
INSERT INTO [bookings] ([Id], [AmenitiesUpCharge], [ApartmentId], [CancelledOnUtc], [CleaningFee], [CompletedOnUtc], [ConfirmedOnUtc], [CreatedOnUtc], [DateFrom], [DateTo], [PriceForPeriod], [RejectedOnUtc], [Status], [TotalPrice], [UserId])
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-04-27 20:05:09.553 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-27 20:05:09.558 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 375.3818ms
2024-04-27 20:05:09.581 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 20:05:09.582 +00:00 [INF] HTTP POST /api/Booking/reserve responded 200 in 434.7293 ms
2024-04-27 20:05:09.583 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzM0Njc0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.QCjsmEd3w5N-UxYv_nAOJdociTPs-NNVZlmSglH9tuM
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "D89F16AF-222F-47F8-A11A-0C2AC29E4E57",
  "dateFrom": "2024-05-27",
  "dateTo": "2024-08-27"
}
RequestBodyStatus: [Completed]
ResponseBody: "8ed52ef6-4fcc-42ba-9e6e-99a883042284"
Duration: 435.4242
2024-04-27 20:05:09.584 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 200 null application/json; charset=utf-8 440.0709ms
2024-04-27 20:14:11.718 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:14:11.771 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:14:11.774 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:14:11.775 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:14:11.792 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 20:14:11.805 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 20:14:11.893 +00:00 [WRN] The property 'Apartment.Amenities' is a collection or enumeration type with a value converter but with no value comparer. Set a value comparer to ensure the collection/enumeration elements are compared correctly.
2024-04-27 20:14:11.903 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:14:11.903 +00:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'Apartment'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:14:11.904 +00:00 [WRN] No store type was specified for the decimal property 'AmenitiesUpCharge' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:14:11.904 +00:00 [WRN] No store type was specified for the decimal property 'CleaningFee' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:14:11.905 +00:00 [WRN] No store type was specified for the decimal property 'PriceForPeriod' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:14:11.905 +00:00 [WRN] No store type was specified for the decimal property 'TotalPrice' on entity type 'Booking'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-27 20:14:11.938 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:14:11.940 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:14:11.942 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-04-27 20:14:11.944 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-04-27 20:14:11.948 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-04-27 20:14:11.949 +00:00 [INF] No migrations were applied. The database is already up to date.
2024-04-27 20:14:12.142 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 20:14:12.219 +00:00 [WRN] Using an in-memory repository. Keys will not be persisted to storage.
2024-04-27 20:14:12.219 +00:00 [WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits.
2024-04-27 20:14:12.229 +00:00 [INF] Creating key {1fe0cb21-d7e6-4ca4-bd87-cdcfdeebdbfc} with creation date 2024-04-27 20:14:12Z, activation date 2024-04-27 20:14:12Z, and expiration date 2024-07-26 20:14:12Z.
2024-04-27 20:14:12.235 +00:00 [WRN] No XML encryptor configured. Key {1fe0cb21-d7e6-4ca4-bd87-cdcfdeebdbfc} may be persisted to storage in unencrypted form.
2024-04-27 20:14:12.295 +00:00 [INF] Now listening on: http://[::]:8080
2024-04-27 20:14:12.297 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-27 20:14:12.298 +00:00 [INF] Hosting environment: Development
2024-04-27 20:14:12.299 +00:00 [INF] Content root path: /app
2024-04-27 20:14:14.355 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/index.html - null null
2024-04-27 20:14:14.456 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/index.html - 200 null text/html;charset=utf-8 101.2231ms
2024-04-27 20:14:14.646 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - null null
2024-04-27 20:14:14.771 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:8080/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.6808ms
2024-04-27 20:15:23.323 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - application/json 94
2024-04-27 20:15:23.442 +00:00 [INF] Executing endpoint 'Bookify.Controllers.ApartmentsController.AddApartment (Bookify)'
2024-04-27 20:15:23.456 +00:00 [INF] Route matched with {action = "AddApartment", controller = "Apartments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult AddApartment(Bookify.Models.Requests.AddApartmentRequest) on controller Bookify.Controllers.ApartmentsController (Bookify).
2024-04-27 20:15:23.536 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__address_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [apartments] AS [a]
        WHERE [a].[Address] = @__address_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 20:15:23.542 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Bookify.Domain.Error'.
2024-04-27 20:15:23.550 +00:00 [INF] Executed action Bookify.Controllers.ApartmentsController.AddApartment (Bookify) in 91.0445ms
2024-04-27 20:15:23.551 +00:00 [INF] Executed endpoint 'Bookify.Controllers.ApartmentsController.AddApartment (Bookify)'
2024-04-27 20:15:23.553 +00:00 [INF] HTTP POST /api/Apartments/add-apartment responded 400 in 213.9588 ms
2024-04-27 20:15:23.556 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Apartments/add-apartment
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzM0Njc0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.QCjsmEd3w5N-UxYv_nAOJdociTPs-NNVZlmSglH9tuM
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 94
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 400
Content-Type: application/json; charset=utf-8
RequestBody: {
  "name": "string",
  "address": "stringstri",
  "price": 1000,
  "amenities": [
    1
  ]
}
RequestBodyStatus: [Completed]
ResponseBody: {"code":"Apartment.Address","name":"The apartment with the specified address is already in the system"}
Duration: 220.6456
2024-04-27 20:15:23.562 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Apartments/add-apartment - 400 null application/json; charset=utf-8 239.8444ms
2024-04-27 20:15:32.166 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 20:15:32.172 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 20:15:32.175 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 20:15:32.192 +00:00 [INF] Executing UnprocessableEntityObjectResult, writing value of type 'Bookify.Domain.ErrorResult'.
2024-04-27 20:15:32.195 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 19.4381ms
2024-04-27 20:15:32.196 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 20:15:32.196 +00:00 [INF] HTTP POST /api/Booking/reserve responded 422 in 27.4708 ms
2024-04-27 20:15:32.197 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzM0Njc0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.QCjsmEd3w5N-UxYv_nAOJdociTPs-NNVZlmSglH9tuM
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 422
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "3fa85f64-5717-4562-b3fc-2c963f66afa6",
  "dateFrom": "2024-04-27",
  "dateTo": "2024-04-27"
}
RequestBodyStatus: [Completed]
ResponseBody: {"errorCode":-106,"errorMessages":["Промежуток времени указан неверно: дата заезда больше или равна дате выезда","Дата заезда не может быть меньше или равна текущей"]}
Duration: 28.2455
2024-04-27 20:15:32.198 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 422 null application/json; charset=utf-8 31.844ms
2024-04-27 20:15:55.181 +00:00 [INF] Request starting HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - application/json 113
2024-04-27 20:15:55.187 +00:00 [INF] Executing endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 20:15:55.189 +00:00 [INF] Route matched with {action = "ReceiveBooking", controller = "Booking"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult ReceiveBooking(Bookify.Models.Requests.ReserveBookingRequest) on controller Bookify.Controllers.BookingController (Bookify).
2024-04-27 20:15:55.246 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__identityId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[IdentityId] = @__identityId_0
2024-04-27 20:15:55.283 +00:00 [INF] Запрос на бронирование
2024-04-27 20:15:55.284 +00:00 [INF] Проверка параметров бронирования
2024-04-27 20:15:55.289 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Email], [u].[FirstName], [u].[IdentityId], [u].[LastName]
FROM [users] AS [u]
WHERE [u].[Id] = @__id_0
2024-04-27 20:15:55.298 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[Address], [a].[Amenities], [a].[CleaningFee], [a].[Description], [a].[LastBookedOnUtc], [a].[Name], [a].[Price], [a].[Version]
FROM [apartments] AS [a]
WHERE [a].[Id] = @__id_0
2024-04-27 20:15:55.367 +00:00 [INF] Проверка дат
2024-04-27 20:15:55.412 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__apartment_Id_0='?' (DbType = Guid), @__ToDateTime_1='?' (DbType = DateTime2), @__ToDateTime_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [bookings] AS [b]
        WHERE [b].[ApartmentId] = @__apartment_Id_0 AND [b].[DateFrom] <= @__ToDateTime_1 AND [b].[DateTo] >= @__ToDateTime_2 AND [b].[Status] IN (1, 2)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2024-04-27 20:15:55.417 +00:00 [INF] Добавление бронирования в базу данных
2024-04-27 20:15:55.541 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Int64), @p3='?' (DbType = Int64), @p4='?' (DbType = Guid), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Int32), @p17='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p18='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [apartments] SET [LastBookedOnUtc] = @p0, [Version] = @p1
OUTPUT 1
WHERE [Id] = @p2 AND [Version] = @p3;
INSERT INTO [bookings] ([Id], [AmenitiesUpCharge], [ApartmentId], [CancelledOnUtc], [CleaningFee], [CompletedOnUtc], [ConfirmedOnUtc], [CreatedOnUtc], [DateFrom], [DateTo], [PriceForPeriod], [RejectedOnUtc], [Status], [TotalPrice], [UserId])
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-04-27 20:15:55.559 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-04-27 20:15:55.562 +00:00 [INF] Executed action Bookify.Controllers.BookingController.ReceiveBooking (Bookify) in 372.4249ms
2024-04-27 20:15:55.562 +00:00 [INF] Executed endpoint 'Bookify.Controllers.BookingController.ReceiveBooking (Bookify)'
2024-04-27 20:15:55.563 +00:00 [INF] HTTP POST /api/Booking/reserve responded 200 in 380.2127 ms
2024-04-27 20:15:55.563 +00:00 [INF] Request and Response:
Protocol: HTTP/1.1
Method: POST
Scheme: http
PathBase: 
Path: /api/Booking/reserve
QueryString: 
Accept: text/plain
Connection: keep-alive
Host: localhost:8080
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/124.0.0.0 Safari/537.36
Accept-Encoding: gzip, deflate, br, zstd
Accept-Language: ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjA3ODYxYTM4LTBjN2EtNDRjNy04MmMwLWM1MGM4MDUzZWU4NSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL2VtYWlsYWRkcmVzcyI6InVzZXI5ODdAZXhhbXBsZS5jb20iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJNYW5hZ2VyIiwiZXhwIjoxNzE0MzM0Njc0LCJpc3MiOiJodHRwczovL2xvY2FsaG9zdDo4MDgwIiwiYXVkIjoiaHR0cHM6Ly9sb2NhbGhvc3Q6ODA4MCJ9.QCjsmEd3w5N-UxYv_nAOJdociTPs-NNVZlmSglH9tuM
Content-Type: application/json
Origin: [Redacted]
Referer: [Redacted]
Content-Length: 113
sec-ch-ua: [Redacted]
sec-ch-ua-mobile: [Redacted]
sec-ch-ua-platform: [Redacted]
sec-gpc: [Redacted]
Sec-Fetch-Site: [Redacted]
Sec-Fetch-Mode: [Redacted]
Sec-Fetch-Dest: [Redacted]
StatusCode: 200
Content-Type: application/json; charset=utf-8
RequestBody: {
  "apartmentId": "97834D27-E346-41DB-91A3-146CB9C01D30",
  "dateFrom": "2024-09-27",
  "dateTo": "2024-10-27"
}
RequestBodyStatus: [Completed]
ResponseBody: "db895fde-bb26-41b9-919e-ab8cea6812e9"
Duration: 380.7967
2024-04-27 20:15:55.565 +00:00 [INF] Request finished HTTP/1.1 POST http://localhost:8080/api/Booking/reserve - 200 null application/json; charset=utf-8 384.3276ms
